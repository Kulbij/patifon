!function(a,b){var c,g,d={week:"",day:"",hour:"",minute:"",second:"",weekOn:!0,dayOn:!0,hourOn:!0,minuteOn:!0,time:1e3,date:c,callback:c},e={week:0,day:0,hour:0,minute:0,second:0},h={init:function(a){if(d=$.extend(d,a),!$.zTimer._validData(d))return!1;var c=$.zTimer._isInit();c||b.getElementById(d.second).setAttribute("data-zTimer",!0)},update:function(a){if($.zTimer._isInit()){var b=$.extend(d,a);if($.zTimer._validData(b))return d=b,$.zTimer("stop"),$.zTimer("start"),!0}return!1},destroy:function(){b.getElementById(d.second).removeAttribute("data-zTimer"),$.zTimer._ifIs(d.callback)&&d.callback()},start:function(){$.zTimer._calculate(),$.zTimer._update()},stop:function(){clearTimeout(g)}};$.zTimer=function(a){return h[a]?h[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?(console.error('Method "'+a+'" not found in $.zTimer'),void 0):h.init.apply(this,arguments)},$.zTimer._ifIs=function(a){return null!==a&&a!==c?!0:!1},$.zTimer._validData=function(a){if(!a.date){var c=new Date;a.date=new Date(c.getFullYear()+1,0,1,0,0,0)}var d=!a.weekOn||a.week.length&&$.zTimer._ifIs(b.getElementById(a.week)),e=!a.dayOn||a.day.length&&$.zTimer._ifIs(b.getElementById(a.day)),f=!a.hourOn||a.hour.length&&$.zTimer._ifIs(b.getElementById(a.hour)),g=!a.minuteOn||a.minute.length&&$.zTimer._ifIs(b.getElementById(a.minute)),h=a.second.length&&$.zTimer._ifIs(b.getElementById(a.second)),i=a.time&&parseInt(a.time,10)>0,j=d&&e&&f&&g&&h&&i;return j},$.zTimer._isInit=function(){return!!b.getElementById(d.second).getAttribute("data-zTimer")},$.zTimer._calculate=function(){var a=d.date-new Date,b=6048e5,c=864e5,f=36e5,g=6e4,h=1e3,i=a;if(parseInt(i,10)>0){for(d.weekOn&&d.dayOn&&d.hourOn&&d.minuteOn&&(e.week=parseInt(i/b,10),i-=b*e.week),d.dayOn&&d.hourOn&&d.minuteOn&&(e.day=parseInt(i/c,10),i-=c*e.day),d.hourOn&&d.minuteOn&&(e.hour=parseInt(i/f,10),i-=f*e.hour),d.minuteOn&&(e.minute=parseInt(i/g,10),i-=g*e.minute),e.second=parseInt(i/h,10),i-=h*e.second;i>=h;)++e.second,i-=h;if(d.minuteOn)for(;e.second>=g;)++minute,e.second-=g;if(d.hourOn)for(;e.minute>=f;)++e.hour,e.minute-=f;if(d.dayOn)for(;e.hour>=c;)++e.day,e.hour-=c;if(d.weekOn)for(;e.day>=b;)++e.week,e.day-=b}},$.zTimer._addZeros=function(a,b){for(b=b||2,a=String(a);a.length<b;)a="0"+a;return a},$.zTimer._update=function(){return parseInt(e.second,10)<=0&&parseInt(e.minute,10)<=0&&parseInt(e.hour,10)<=0&&parseInt(e.day,10)<=0&&parseInt(e.week,10)<=0?($.zTimer("destroy"),!0):(0==parseInt(e.second,10)?d.minuteOn&&(0==parseInt(e.minute,10)?d.hourOn&&(0==parseInt(e.hour,10)?d.dayOn&&(0==parseInt(e.day,10)?d.weekOn&&(0==parseInt(e.week,10)||--e.week,e.day=6):--e.day,e.hour=23):--e.hour,e.minute=59):--e.minute,e.second=59):--e.second,$.zTimer._show(),g=setTimeout($.zTimer._update,d.time),void 0)},$.zTimer._show=function(){return d.weekOn&&(b.getElementById(d.week).innerHTML=$.zTimer._addZeros(e.week)),d.dayOn&&(b.getElementById(d.day).innerHTML=$.zTimer._addZeros(e.day)),d.hourOn&&(b.getElementById(d.hour).innerHTML=$.zTimer._addZeros(e.hour)),d.minuteOn&&(b.getElementById(d.minute).innerHTML=$.zTimer._addZeros(e.minute)),b.getElementById(d.second).innerHTML=$.zTimer._addZeros(e.second),!0},a.onfocus=function(){$.zTimer("update")}}(window,document);